{%load filter%}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>自动化平台管理</title>
        <!-- Mobile specific metas -->
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <!-- Force IE9 to render in normal mode -->
        <!--[if IE]><meta http-equiv="x-ua-compatible" content="IE=9" /><![endif]-->
        <meta name="author" content="SuggeElson" />
        <meta name="description" content=""/>
        <meta name="keywords" content=""/>
        <meta name="application-name" content="sprFlat admin template" />
        <meta name="msapplication-TileColor" content="#3399cc" />
        <!-- Import google fonts - Heading first/ text second -->
        <!-- Css files -->
        <!-- Icons -->
        <link href="/static/assets/css/icons.css" rel="stylesheet" />
        <!-- jQueryUI -->
        <link href="/static/assets/css/sprflat-theme/jquery.ui.all.css" rel="stylesheet" />
        <!-- Bootstrap stylesheets (included template modifications) -->
        <link href="/static/assets/css/bootstrap.css" rel="stylesheet" />
        <!-- Plugins stylesheets (all plugin custom css) -->
        <link href="/static/assets/css/plugins.css" rel="stylesheet" />
        <!-- Main stylesheets (template main css file) -->
        <link href="/static/assets/css/main.css" rel="stylesheet" />
        <!-- Custom stylesheets ( Put your own changes here ) -->
        <link href="/static/assets/css/custom.css" rel="stylesheet" />

        <style>

            #content {
              margin: 0;
              padding: 0;
                font-size: 24px;
            }

            .file{
                user-select: none;
            }

            .file:hover {
                background: #b8eaf9;
            }

            .file.selected {
                background: #cce8ff;
            }

            .control-botton {
                width: 100%;
                padding: 0 .5em;
                background: #fff;
                position: fixed;
                bottom: 0;
            }

            .control-botton button{
                margin: .5em;
                margin-left: 70%;
            }

        </style>

    </head>
    <body>

        <!-- Start #content -->
        <div id="content">
            <!-- Start .content-wrapper -->
                {% for i in files %}
                    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 file"><i class="im-file-zip">
                    {{ i | re_path }}</i>
                    </div>
                {% endfor %}

                <div class="control-botton">
                    <button type="button" class="btn btn-primary" id="save">保存</button>
                </div>

            <!-- End .content-wrapper -->
            <div class="clearfix"></div>
        </div>
        <!-- End #content -->
        <!-- Javascripts -->
        <!-- Load pace first -->
        <script src="/static/assets/plugins/core/pace/pace.min.js"></script>
        <!-- Important javascript libs(put in all pages) -->
        <script src="/static/assets/js/jquery-1.8.3.min.js"></script>
        <script>
        window.jQuery || document.write('<script src="/static/assets/js/libs/jquery-2.1.1.min.js">\x3C/script>')
        </script>
        <script src="/static/assets/js/jquery-ui.js"></script>
        <script>
        window.jQuery || document.write('<script src="/static/assets/js/libs/jquery-ui-1.10.4.min.js">\x3C/script>')
        </script>
        <!--[if lt IE 9]>
  <script type="text/javascript" src="/static/assets/js/libs/excanvas.min.js"></script>
  <script type="text/javascript" src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
  <script type="text/javascript" src="/static/assets/js/libs/respond.min.js"></script>
<![endif]-->
        <!-- Bootstrap plugins -->
        <script src="/static/assets/js/bootstrap/bootstrap.js"></script>
        <!-- Core plugins ( not remove ever) -->
        <!-- Handle responsive view functions -->
        <script src="/static/assets/js/jRespond.min.js"></script>
        <!-- Custom scroll for sidebars,tables and etc. -->
        <script src="/static/assets/plugins/core/slimscroll/jquery.slimscroll.min.js"></script>
        <script src="/static/assets/plugins/core/slimscroll/jquery.slimscroll.horizontal.min.js"></script>
        <!-- Resize text area in most pages -->
        <script src="/static/assets/plugins/forms/autosize/jquery.autosize.js"></script>
        <!-- Proivde quick search for many widgets -->
        <script src="/static/assets/plugins/core/quicksearch/jquery.quicksearch.js"></script>
        <!-- Bootbox confirm dialog for reset postion on panels -->
        <script src="/static/assets/plugins/ui/bootbox/bootbox.js"></script>
        <!-- Other plugins ( load only nessesary plugins for every page) -->
        <script src="/static/assets/plugins/core/moment/moment.min.js"></script>
        <script src="/static/assets/plugins/charts/sparklines/jquery.sparkline.js"></script>
        <script src="/static/assets/plugins/charts/pie-chart/jquery.easy-pie-chart.js"></script>
        <script src="/static/assets/plugins/forms/icheck/jquery.icheck.js"></script>
        <script src="/static/assets/plugins/forms/tags/jquery.tagsinput.min.js"></script>
        <script src="/static/assets/plugins/forms/tinymce/tinymce.min.js"></script>
        <script src="/static/assets/plugins/forms/switch/jquery.onoff.min.js"></script>
        <script src="/static/assets/plugins/forms/maxlength/bootstrap-maxlength.js"></script>
        <script src="/static/assets/plugins/forms/bootstrap-filestyle/bootstrap-filestyle.js"></script>
        <script src="/static/assets/plugins/forms/color-picker/spectrum.js"></script>
        <script src="/static/assets/plugins/forms/daterangepicker/daterangepicker.js"></script>
        <script src="/static/assets/plugins/forms/datetimepicker/bootstrap-datetimepicker.min.js"></script>
        <script src="/static/assets/plugins/forms/globalize/globalize.js"></script>
        <script src="/static/assets/plugins/forms/maskedinput/jquery.maskedinput.js"></script>
        <script src="/static/assets/plugins/forms/select2/select2.js"></script>
        <script src="/static/assets/plugins/forms/dual-list-box/jquery.bootstrap-duallistbox.js"></script>
        <script src="/static/assets/plugins/forms/password/jquery-passy.js"></script>
        <script src="/static/assets/plugins/forms/checkall/jquery.CheckAll.js"></script>
        <script src="/static/assets/plugins/misc/highlight/highlight.pack.js"></script>
        <script src="/static/assets/plugins/misc/countTo/jquery.countTo.js"></script>
        <script src="/static/assets/js/jquery.sprFlat.js"></script>
        <script src="/static/assets/js/app.js"></script>
        <script src="/static/assets/js/pages/blank.js"></script>
        <script src="/static/plugins/layer/layer.js"></script>
        <script src="/static/assets/js/pages/forms.js"></script>

        <script>

            $(document).ready(function(){

                $('.file').click(function(){
                   $(this).toggleClass('selected') ;
                });


                $('#save').click(function(){
                    var files = [];
                    $.each($('.file.selected'),function(index, item){
                        files.push($(item).text().trim());
                    });
                    parent.selected_packages = files.join(',');
                    var index = parent.layer.getFrameIndex(window.name);
                    parent.layer.close(index,function(){});
                });

            });

        </script>
    </body>
</html>